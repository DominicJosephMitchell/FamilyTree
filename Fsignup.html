<!DOCTYPE html>
<html lang="en">

<head>
    <title>FamilyTreeSignUp</title>
    <link rel="stylesheet" href="Freset.css">
    <link rel="stylesheet" href="Fstyles.css">
    <!-- <link rel="stylesheet" href="sign-up.css"> -->
    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous"> -->
</head>

<!-- <body class="signup-page"> -->
<body>
    <div>
        <header>
            <iframe src="Fheader.html" width="100%"></iframe>
        </header>
    </div>

<!-- <h1 class="title">Sign up</h1> -->
    <div>
        <h1>Sign Up</h1>
    </div>
    <div class="content">
        <h3>
            <form id="signUpForm">
                <!-- Name -->
                <div class="sign-up-info">
                    <label for="name">Name</label>
                    <input type="text" id="name" name="name" placeholder="Enter your Name here" required />
                </div>
                <!-- Email -->
                <div class="sign-up-info">
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" placeholder="Enter your email here" required />
                </div>
                <!-- Password -->
                <div class="sign-up-info">
                    <label for="password">Password</label>
                    <input type="password" id="password" name="password" placeholder="Enter your password" required />
                </div>
                <!-- Confirm Password -->
                <div class="sign-up-info">
                    <label for="confirm-password">Confirm Password</label>
                    <input type="password" id="confirm-password" name="confirm-password" placeholder="Confirm your password"
                        required />
                </div>

                <div class="buttons">
                    <input id="sign-up-button" class="button" type="submit" value="Sign-up" />
                    <a href="Fprofile.html"></a>
                </div>
                <div class="buttons">
                    <a href="Ffamilyrelations.html">Login</a>
                </div>
            </form>
        </h3>
    </div>
    <footer>
        <iframe class="footer" src="Ffooter.html" height="40" width="100%" scrolling="no"></iframe>
    </footer>

    <script>
        document.getElementById("signUpForm").addEventListener("submit", function (e) {
            // debugger;

            e.preventDefault();
            signUp();
        });

        var signUp = function () {
            const profile = {
                name: document.forms["signUpForm"]["name"].value,
                email: document.forms["signUpForm"]["email"].value,
                password: document.forms["signUpForm"]["password"].value,
                confirmpassword: document.forms["signUpForm"]["confirm-password"].value,
            };
            const confirmPassword = document.forms["signUpForm"]["confirm-password"].value

            // document.write(JSON.stringify(profile));
            console.log(JSON.stringify(profile));

            // Check password
            if (profile.password != confirmPassword) {
                alert("Password must be the same as Confirmation Password.");
            } else {
                // Store profile
                var profiles = window.localStorage.profiles ? JSON.parse(window.localStorage.profiles) : [];

                // var profiles;

                // if (window.localStorage.profiles) {
                //     profiles = JSON.parse(window.localStorage.profiles);
                // } else {
                //     profiles = [];
                // }

                if (profiles.length == 0) {
                    profile.id = 1;
                } else {
                    profile.id = profiles.length + 1;
                }

                profiles.push(profile);
                window.localStorage.profiles = JSON.stringify(profiles);
                window.sessionStorage.loggedIn = profile.email;
                window.location.href = "Fprofile.html";
            }

            return false;
        }
    </script>
</body>

</html>